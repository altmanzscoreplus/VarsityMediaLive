{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/kanban/KanbanColumn.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { Box, ClickAwayListener, Divider, IconButton, Menu, MenuItem, Paper, TextField, Typography } from '@material-ui/core';\nimport DotsHorizontalIcon from '../../../icons/DotsHorizontal';\nimport { clearColumn, deleteColumn, updateColumn } from '../../../slices/kanban';\nimport { useDispatch, useSelector } from '../../../store';\nimport KanbanCard from './KanbanCard';\nimport KanbanCardAdd from './KanbanCardAdd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst columnSelector = (state, columnId) => {\n  const {\n    columns\n  } = state.kanban;\n  return columns.byId[columnId];\n};\n\nconst KanbanColumn = props => {\n  _s();\n\n  const {\n    columnId,\n    ...other\n  } = props;\n  const dispatch = useDispatch();\n  const moreRef = useRef(null);\n  const column = useSelector(state => columnSelector(state, columnId));\n  const [openMenu, setOpenMenu] = useState(false);\n  const [name, setName] = useState(column.name);\n  const [isRenaming, setIsRenaming] = useState(false);\n\n  const handleMenuOpen = () => {\n    setOpenMenu(true);\n  };\n\n  const handleMenuClose = () => {\n    setOpenMenu(false);\n  };\n\n  const handleChange = event => {\n    setName(event.target.value);\n  };\n\n  const handleRenameInit = () => {\n    setIsRenaming(true);\n    setOpenMenu(false);\n  };\n\n  const handleRename = async () => {\n    try {\n      if (!name) {\n        setName(column.name);\n        setIsRenaming(false);\n        return;\n      }\n\n      const update = {\n        name\n      };\n      setIsRenaming(false);\n      await dispatch(updateColumn(column.id, update));\n      toast.success('Column updated!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      setOpenMenu(false);\n      await dispatch(deleteColumn(column.id));\n      toast.success('Column deleted!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleClear = async () => {\n    try {\n      setOpenMenu(false);\n      await dispatch(clearColumn(column.id));\n      toast.success('Column cleared!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", { ...other,\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        display: 'flex',\n        flexDirection: 'column',\n        maxHeight: '100%',\n        mx: 1,\n        overflowX: 'hidden',\n        overflowY: 'hidden',\n        width: {\n          xs: 300,\n          sm: 380\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          alignItems: 'center',\n          display: 'flex',\n          px: 2,\n          py: 1\n        },\n        children: [isRenaming ? /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n          onClickAway: handleRename,\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"dense\",\n            onBlur: handleRename,\n            onChange: handleChange,\n            value: name,\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"inherit\",\n          onClick: handleRenameInit,\n          variant: \"h6\",\n          children: column.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          edge: \"end\",\n          onClick: handleMenuOpen,\n          ref: moreRef,\n          children: /*#__PURE__*/_jsxDEV(DotsHorizontalIcon, {\n            fontSize: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Droppable, {\n        droppableId: column.id,\n        type: \"card\",\n        children: provided => /*#__PURE__*/_jsxDEV(Box, {\n          ref: provided.innerRef,\n          sx: {\n            flexGrow: 1,\n            minHeight: 80,\n            overflowY: 'auto',\n            px: 2,\n            py: 1\n          },\n          children: [column.cardIds.map((cardId, index) => /*#__PURE__*/_jsxDEV(Draggable, {\n            draggableId: cardId,\n            index: index,\n            children: (_provided, snapshot) => /*#__PURE__*/_jsxDEV(KanbanCard, {\n              cardId: cardId,\n              dragging: snapshot.isDragging,\n              index: index,\n              column: column,\n              ref: _provided.innerRef,\n              style: { ..._provided.draggableProps.style\n              },\n              ..._provided.draggableProps,\n              ..._provided.dragHandleProps\n            }, cardId, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 21\n            }, this)\n          }, cardId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)), provided.placeholder]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(KanbanCardAdd, {\n          columnId: column.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        anchorEl: moreRef.current,\n        anchorOrigin: {\n          horizontal: 'center',\n          vertical: 'bottom'\n        },\n        keepMounted: true,\n        onClose: handleMenuClose,\n        open: openMenu,\n        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleRenameInit,\n          children: \"Rename\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleClear,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleDelete,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n};\n\n_s(KanbanColumn, \"O9opcJ+4GkLoYccYnOhUFMxq+Oo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = KanbanColumn;\nKanbanColumn.propTypes = {\n  columnId: PropTypes.string.isRequired\n};\nexport default KanbanColumn;\n\nvar _c;\n\n$RefreshReg$(_c, \"KanbanColumn\");","map":{"version":3,"sources":["/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/kanban/KanbanColumn.js"],"names":["useRef","useState","PropTypes","toast","Droppable","Draggable","Box","ClickAwayListener","Divider","IconButton","Menu","MenuItem","Paper","TextField","Typography","DotsHorizontalIcon","clearColumn","deleteColumn","updateColumn","useDispatch","useSelector","KanbanCard","KanbanCardAdd","columnSelector","state","columnId","columns","kanban","byId","KanbanColumn","props","other","dispatch","moreRef","column","openMenu","setOpenMenu","name","setName","isRenaming","setIsRenaming","handleMenuOpen","handleMenuClose","handleChange","event","target","value","handleRenameInit","handleRename","update","id","success","err","console","error","handleDelete","handleClear","display","flexDirection","maxHeight","mx","overflowX","overflowY","width","xs","sm","alignItems","px","py","flexGrow","provided","innerRef","minHeight","cardIds","map","cardId","index","_provided","snapshot","isDragging","draggableProps","style","dragHandleProps","placeholder","p","current","horizontal","vertical","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport {\n  Box,\n  ClickAwayListener,\n  Divider,\n  IconButton,\n  Menu,\n  MenuItem,\n  Paper,\n  TextField,\n  Typography\n} from '@material-ui/core';\nimport DotsHorizontalIcon from '../../../icons/DotsHorizontal';\nimport { clearColumn, deleteColumn, updateColumn } from '../../../slices/kanban';\nimport { useDispatch, useSelector } from '../../../store';\nimport KanbanCard from './KanbanCard';\nimport KanbanCardAdd from './KanbanCardAdd';\n\nconst columnSelector = (state, columnId) => {\n  const { columns } = state.kanban;\n\n  return columns.byId[columnId];\n};\n\nconst KanbanColumn = (props) => {\n  const { columnId, ...other } = props;\n  const dispatch = useDispatch();\n  const moreRef = useRef(null);\n  const column = useSelector((state) => columnSelector(state, columnId));\n  const [openMenu, setOpenMenu] = useState(false);\n  const [name, setName] = useState(column.name);\n  const [isRenaming, setIsRenaming] = useState(false);\n\n  const handleMenuOpen = () => {\n    setOpenMenu(true);\n  };\n\n  const handleMenuClose = () => {\n    setOpenMenu(false);\n  };\n\n  const handleChange = (event) => {\n    setName(event.target.value);\n  };\n\n  const handleRenameInit = () => {\n    setIsRenaming(true);\n    setOpenMenu(false);\n  };\n\n  const handleRename = async () => {\n    try {\n      if (!name) {\n        setName(column.name);\n        setIsRenaming(false);\n        return;\n      }\n\n      const update = { name };\n\n      setIsRenaming(false);\n      await dispatch(updateColumn(column.id, update));\n      toast.success('Column updated!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      setOpenMenu(false);\n      await dispatch(deleteColumn(column.id));\n      toast.success('Column deleted!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleClear = async () => {\n    try {\n      setOpenMenu(false);\n      await dispatch(clearColumn(column.id));\n      toast.success('Column cleared!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  return (\n    <div {...other}>\n      <Paper\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          maxHeight: '100%',\n          mx: 1,\n          overflowX: 'hidden',\n          overflowY: 'hidden',\n          width: {\n            xs: 300,\n            sm: 380\n          }\n        }}\n      >\n        <Box\n          sx={{\n            alignItems: 'center',\n            display: 'flex',\n            px: 2,\n            py: 1\n          }}\n        >\n          {isRenaming\n            ? (\n              <ClickAwayListener onClickAway={handleRename}>\n                <TextField\n                  margin=\"dense\"\n                  onBlur={handleRename}\n                  onChange={handleChange}\n                  value={name}\n                  variant=\"outlined\"\n                />\n              </ClickAwayListener>\n            )\n            : (\n              <Typography\n                color=\"inherit\"\n                onClick={handleRenameInit}\n                variant=\"h6\"\n              >\n                {column.name}\n              </Typography>\n            )}\n          <Box sx={{ flexGrow: 1 }} />\n          <IconButton\n            color=\"inherit\"\n            edge=\"end\"\n            onClick={handleMenuOpen}\n            ref={moreRef}\n          >\n            <DotsHorizontalIcon fontSize=\"small\" />\n          </IconButton>\n        </Box>\n        <Divider />\n        <Droppable\n          droppableId={column.id}\n          type=\"card\"\n        >\n          {(provided) => (\n            <Box\n              ref={provided.innerRef}\n              sx={{\n                flexGrow: 1,\n                minHeight: 80,\n                overflowY: 'auto',\n                px: 2,\n                py: 1\n              }}\n            >\n              {column.cardIds.map((cardId, index) => (\n                <Draggable\n                  draggableId={cardId}\n                  index={index}\n                  key={cardId}\n                >\n                  {(_provided, snapshot) => (\n                    <KanbanCard\n                      cardId={cardId}\n                      dragging={snapshot.isDragging}\n                      index={index}\n                      key={cardId}\n                      column={column}\n                      ref={_provided.innerRef}\n                      style={{ ..._provided.draggableProps.style }}\n                      {..._provided.draggableProps}\n                      {..._provided.dragHandleProps}\n                    />\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </Box>\n          )}\n        </Droppable>\n        <Divider />\n        <Box sx={{ p: 2 }}>\n          <KanbanCardAdd columnId={column.id} />\n        </Box>\n        <Menu\n          anchorEl={moreRef.current}\n          anchorOrigin={{\n            horizontal: 'center',\n            vertical: 'bottom'\n          }}\n          keepMounted\n          onClose={handleMenuClose}\n          open={openMenu}\n        >\n          <MenuItem onClick={handleRenameInit}>\n            Rename\n          </MenuItem>\n          <MenuItem onClick={handleClear}>\n            Clear\n          </MenuItem>\n          <MenuItem onClick={handleDelete}>\n            Delete\n          </MenuItem>\n        </Menu>\n      </Paper>\n    </div>\n  );\n};\n\nKanbanColumn.propTypes = {\n  columnId: PropTypes.string.isRequired\n};\n\nexport default KanbanColumn;\n"]},"metadata":{},"sourceType":"module"}