{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/VarsityMediaLive07042021/src/components/authentication/password-recovery/PasswordRecoveryAmplify.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { Box, Button, FormHelperText, TextField } from '@material-ui/core';\nimport useAuth from '../../../hooks/useAuth';\nimport useMounted from '../../../hooks/useMounted';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PasswordRecoveryAmplify = () => {\n  _s();\n\n  const mounted = useMounted();\n  const {\n    passwordRecovery\n  } = useAuth();\n  const navigate = useNavigate();\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: {\n      email: '',\n      submit: null\n    },\n    validationSchema: Yup.object().shape({\n      email: Yup.string().email('Must be a valid email').max(255).required('Email is required')\n    }),\n    onSubmit: async (values, {\n      setErrors,\n      setStatus,\n      setSubmitting\n    }) => {\n      try {\n        await passwordRecovery(values.email);\n        navigate('/authentication/password-reset', {\n          state: {\n            username: values.email\n          }\n        });\n      } catch (err) {\n        console.error(err);\n\n        if (mounted.current) {\n          setStatus({\n            success: false\n          });\n          setErrors({\n            submit: err.message\n          });\n          setSubmitting(false);\n        }\n      }\n    },\n    children: ({\n      errors,\n      handleBlur,\n      handleChange,\n      handleSubmit,\n      isSubmitting,\n      touched,\n      values\n    }) => /*#__PURE__*/_jsxDEV(\"form\", {\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        autoFocus: true,\n        error: Boolean(touched.email && errors.email),\n        fullWidth: true,\n        helperText: touched.email && errors.email,\n        label: \"Email Address\",\n        margin: \"normal\",\n        name: \"email\",\n        onBlur: handleBlur,\n        onChange: handleChange,\n        type: \"email\",\n        value: values.email,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), errors.submit && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(FormHelperText, {\n          error: true,\n          children: errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          color: \"primary\",\n          disabled: isSubmitting,\n          fullWidth: true,\n          size: \"large\",\n          type: \"submit\",\n          variant: \"contained\",\n          children: \"Recover Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PasswordRecoveryAmplify, \"XToqDh++Nf58EusWFfKk/C2BANU=\", false, function () {\n  return [useMounted, useAuth, useNavigate];\n});\n\n_c = PasswordRecoveryAmplify;\nexport default PasswordRecoveryAmplify;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasswordRecoveryAmplify\");","map":{"version":3,"sources":["/home/ec2-user/environment/VarsityMediaLive07042021/src/components/authentication/password-recovery/PasswordRecoveryAmplify.js"],"names":["useNavigate","Yup","Formik","Box","Button","FormHelperText","TextField","useAuth","useMounted","PasswordRecoveryAmplify","mounted","passwordRecovery","navigate","email","submit","object","shape","string","max","required","values","setErrors","setStatus","setSubmitting","state","username","err","console","error","current","success","message","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","Boolean","mt"],"mappings":"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","sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport * as Yup from 'yup';\nimport { Formik } from 'formik';\nimport { Box, Button, FormHelperText, TextField } from '@material-ui/core';\nimport useAuth from '../../../hooks/useAuth';\nimport useMounted from '../../../hooks/useMounted';\n\nconst PasswordRecoveryAmplify = () => {\n  const mounted = useMounted();\n  const { passwordRecovery } = useAuth();\n  const navigate = useNavigate();\n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        submit: null\n      }}\n      validationSchema={Yup\n        .object()\n        .shape({\n          email: Yup\n            .string()\n            .email('Must be a valid email')\n            .max(255)\n            .required('Email is required')\n        })}\n      onSubmit={async (values, { setErrors, setStatus, setSubmitting }) => {\n        try {\n          await passwordRecovery(values.email);\n\n          navigate('/authentication/password-reset', {\n            state: {\n              username: values.email\n            }\n          });\n        } catch (err) {\n          console.error(err);\n          if (mounted.current) {\n            setStatus({ success: false });\n            setErrors({ submit: err.message });\n            setSubmitting(false);\n          }\n        }\n      }}\n    >\n      {({ errors, handleBlur, handleChange, handleSubmit, isSubmitting, touched, values }) => (\n        <form\n          noValidate\n          onSubmit={handleSubmit}\n        >\n          <TextField\n            autoFocus\n            error={Boolean(touched.email && errors.email)}\n            fullWidth\n            helperText={touched.email && errors.email}\n            label=\"Email Address\"\n            margin=\"normal\"\n            name=\"email\"\n            onBlur={handleBlur}\n            onChange={handleChange}\n            type=\"email\"\n            value={values.email}\n            variant=\"outlined\"\n          />\n          {errors.submit && (\n            <Box sx={{ mt: 3 }}>\n              <FormHelperText error>\n                {errors.submit}\n              </FormHelperText>\n            </Box>\n          )}\n          <Box sx={{ mt: 3 }}>\n            <Button\n              color=\"primary\"\n              disabled={isSubmitting}\n              fullWidth\n              size=\"large\"\n              type=\"submit\"\n              variant=\"contained\"\n            >\n              Recover Password\n            </Button>\n          </Box>\n        </form>\n      )}\n    </Formik>\n  );\n};\n\nexport default PasswordRecoveryAmplify;\n"]},"metadata":{},"sourceType":"module"}