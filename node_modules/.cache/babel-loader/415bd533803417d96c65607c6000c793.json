{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/kanban/KanbanCardModal.js\",\n    _s = $RefreshSig$();\n\nimport PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport debounce from 'lodash/debounce';\nimport { Box, Dialog, Divider, Grid, TextField, Typography } from '@material-ui/core';\nimport LabelIcon from '@material-ui/icons/Label';\nimport ArchiveIcon from '../../../icons/Archive';\nimport ArrowRightIcon from '../../../icons/ArrowRight';\nimport CheckIcon from '../../../icons/Check';\nimport DocumentTextIcon from '../../../icons/DocumentText';\nimport DuplicateIcon from '../../../icons/Duplicate';\nimport EyeIcon from '../../../icons/Eye';\nimport EyeOffIcon from '../../../icons/EyeOff';\nimport TemplateIcon from '../../../icons/Template';\nimport UsersIcon from '../../../icons/Users';\nimport { addChecklist, deleteCard, updateCard } from '../../../slices/kanban';\nimport { useDispatch } from '../../../store';\nimport KanbanCardAction from './KanbanCardAction';\nimport KanbanChecklist from './KanbanChecklist';\nimport KanbanComment from './KanbanComment';\nimport KanbanCommentAdd from './KanbanCommentAdd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst KanbanCardModal = props => {\n  _s();\n\n  const {\n    card,\n    column,\n    onClose,\n    open,\n    ...other\n  } = props;\n  const dispatch = useDispatch();\n  const handleDetailsUpdate = debounce(async update => {\n    try {\n      await dispatch(updateCard(card.id, update));\n      toast.success('Card updated!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  }, 1000);\n\n  const handleSubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, {\n        isSubscribed: true\n      }));\n      toast.success('Unsubscribed!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleUnsubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, {\n        isSubscribed: false\n      }));\n      toast.success('Subscribed!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteCard(card.id));\n      toast.success('Card archived!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleAddChecklist = async () => {\n    try {\n      await dispatch(addChecklist(card.id, 'Untitled Checklist'));\n      toast.success('Checklist added!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    fullWidth: true,\n    maxWidth: \"md\",\n    onClose: onClose,\n    open: open,\n    ...other,\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 5,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          sm: 8,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            defaultValue: card.name,\n            fullWidth: true,\n            label: \"Title\",\n            onChange: event => handleDetailsUpdate({\n              name: event.target.value\n            }),\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              defaultValue: card.description,\n              fullWidth: true,\n              multiline: true,\n              onChange: event => handleDetailsUpdate({\n                description: event.target.value\n              }),\n              placeholder: \"Leave a message\",\n              label: \"Description\",\n              rows: 6,\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), card.checklists.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 5\n            },\n            children: card.checklists.map(checklist => /*#__PURE__*/_jsxDEV(KanbanChecklist, {\n              card: card,\n              checklist: checklist,\n              sx: {\n                mb: 3\n              }\n            }, checklist.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textPrimary\",\n              variant: \"h6\",\n              children: \"Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mt: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(KanbanCommentAdd, {\n                cardId: card.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), card.comments.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 3\n                },\n                children: card.comments.map(comment => /*#__PURE__*/_jsxDEV(KanbanComment, {\n                  createdAt: comment.createdAt,\n                  memberId: comment.memberId,\n                  message: comment.message\n                }, comment.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 4,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            color: \"textPrimary\",\n            component: \"h4\",\n            sx: {\n              fontWeight: 600,\n              mb: 2\n            },\n            variant: \"overline\",\n            children: \"Add to card\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n            icon: /*#__PURE__*/_jsxDEV(CheckIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 21\n            }, this),\n            onClick: handleAddChecklist,\n            children: \"Checklist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n            disabled: true,\n            icon: /*#__PURE__*/_jsxDEV(UsersIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 21\n            }, this),\n            children: \"Members\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n            disabled: true,\n            icon: /*#__PURE__*/_jsxDEV(LabelIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 21\n            }, this),\n            children: \"Labels\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n            disabled: true,\n            icon: /*#__PURE__*/_jsxDEV(DocumentTextIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 21\n            }, this),\n            children: \"Attachments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textPrimary\",\n              component: \"h4\",\n              sx: {\n                fontWeight: 600,\n                mb: 2\n              },\n              variant: \"overline\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              disabled: true,\n              icon: /*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 23\n              }, this),\n              children: \"Move\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              disabled: true,\n              icon: /*#__PURE__*/_jsxDEV(DuplicateIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this),\n              children: \"Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              disabled: true,\n              icon: /*#__PURE__*/_jsxDEV(TemplateIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this),\n              children: \"Make Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                my: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), card.isSubscribed ? /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              icon: /*#__PURE__*/_jsxDEV(EyeOffIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 27\n              }, this),\n              onClick: handleUnsubscribe,\n              children: \"Unwatch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              icon: /*#__PURE__*/_jsxDEV(EyeIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 27\n              }, this),\n              onClick: handleSubscribe,\n              children: \"Watch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(KanbanCardAction, {\n              icon: /*#__PURE__*/_jsxDEV(ArchiveIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 23\n              }, this),\n              onClick: handleDelete,\n              children: \"Archive\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(KanbanCardModal, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = KanbanCardModal;\nKanbanCardModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  column: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\nKanbanCardModal.defaultProps = {\n  open: false\n};\nexport default KanbanCardModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"KanbanCardModal\");","map":{"version":3,"sources":["/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/kanban/KanbanCardModal.js"],"names":["PropTypes","toast","debounce","Box","Dialog","Divider","Grid","TextField","Typography","LabelIcon","ArchiveIcon","ArrowRightIcon","CheckIcon","DocumentTextIcon","DuplicateIcon","EyeIcon","EyeOffIcon","TemplateIcon","UsersIcon","addChecklist","deleteCard","updateCard","useDispatch","KanbanCardAction","KanbanChecklist","KanbanComment","KanbanCommentAdd","KanbanCardModal","props","card","column","onClose","open","other","dispatch","handleDetailsUpdate","update","id","success","err","console","error","handleSubscribe","isSubscribed","handleUnsubscribe","handleDelete","handleAddChecklist","p","name","event","target","value","mt","description","checklists","length","map","checklist","mb","comments","comment","createdAt","memberId","message","fontWeight","my","propTypes","object","isRequired","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport toast from 'react-hot-toast';\nimport debounce from 'lodash/debounce';\nimport { Box, Dialog, Divider, Grid, TextField, Typography } from '@material-ui/core';\nimport LabelIcon from '@material-ui/icons/Label';\nimport ArchiveIcon from '../../../icons/Archive';\nimport ArrowRightIcon from '../../../icons/ArrowRight';\nimport CheckIcon from '../../../icons/Check';\nimport DocumentTextIcon from '../../../icons/DocumentText';\nimport DuplicateIcon from '../../../icons/Duplicate';\nimport EyeIcon from '../../../icons/Eye';\nimport EyeOffIcon from '../../../icons/EyeOff';\nimport TemplateIcon from '../../../icons/Template';\nimport UsersIcon from '../../../icons/Users';\nimport { addChecklist, deleteCard, updateCard } from '../../../slices/kanban';\nimport { useDispatch } from '../../../store';\nimport KanbanCardAction from './KanbanCardAction';\nimport KanbanChecklist from './KanbanChecklist';\nimport KanbanComment from './KanbanComment';\nimport KanbanCommentAdd from './KanbanCommentAdd';\n\nconst KanbanCardModal = (props) => {\n  const { card, column, onClose, open, ...other } = props;\n  const dispatch = useDispatch();\n\n  const handleDetailsUpdate = debounce(async (update) => {\n    try {\n      await dispatch(updateCard(card.id, update));\n      toast.success('Card updated!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  }, 1000);\n\n  const handleSubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: true }));\n      toast.success('Unsubscribed!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleUnsubscribe = async () => {\n    try {\n      await dispatch(updateCard(card.id, { isSubscribed: false }));\n      toast.success('Subscribed!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await dispatch(deleteCard(card.id));\n      toast.success('Card archived!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  const handleAddChecklist = async () => {\n    try {\n      await dispatch(addChecklist(card.id, 'Untitled Checklist'));\n      toast.success('Checklist added!');\n    } catch (err) {\n      console.error(err);\n      toast.error('Something went wrong!');\n    }\n  };\n\n  return (\n    <Dialog\n      fullWidth\n      maxWidth=\"md\"\n      onClose={onClose}\n      open={open}\n      {...other}\n    >\n      <Box sx={{ p: 3 }}>\n        <Grid\n          container\n          spacing={5}\n        >\n          <Grid\n            item\n            sm={8}\n            xs={12}\n          >\n            <TextField\n              defaultValue={card.name}\n              fullWidth\n              label=\"Title\"\n              onChange={(event) => handleDetailsUpdate({ name: event.target.value })}\n              variant=\"outlined\"\n            />\n            <Box sx={{ mt: 3 }}>\n              <TextField\n                defaultValue={card.description}\n                fullWidth\n                multiline\n                onChange={(event) => handleDetailsUpdate({ description: event.target.value })}\n                placeholder=\"Leave a message\"\n                label=\"Description\"\n                rows={6}\n                variant=\"outlined\"\n              />\n            </Box>\n            {card.checklists.length > 0 && (\n              <Box sx={{ mt: 5 }}>\n                {card.checklists.map((checklist) => (\n                  <KanbanChecklist\n                    card={card}\n                    checklist={checklist}\n                    key={checklist.id}\n                    sx={{ mb: 3 }}\n                  />\n                ))}\n              </Box>\n            )}\n            <Box sx={{ mt: 3 }}>\n              <Typography\n                color=\"textPrimary\"\n                variant=\"h6\"\n              >\n                Activity\n              </Typography>\n              <Box sx={{ mt: 2 }}>\n                <KanbanCommentAdd cardId={card.id} />\n                {card.comments.length > 0 && (\n                  <Box sx={{ mt: 3 }}>\n                    {card.comments.map((comment) => (\n                      <KanbanComment\n                        createdAt={comment.createdAt}\n                        key={comment.id}\n                        memberId={comment.memberId}\n                        message={comment.message}\n                      />\n                    ))}\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            sm={4}\n          >\n            <Typography\n              color=\"textPrimary\"\n              component=\"h4\"\n              sx={{\n                fontWeight: 600,\n                mb: 2\n              }}\n              variant=\"overline\"\n            >\n              Add to card\n            </Typography>\n            <KanbanCardAction\n              icon={<CheckIcon fontSize=\"small\" />}\n              onClick={handleAddChecklist}\n            >\n              Checklist\n            </KanbanCardAction>\n            <KanbanCardAction\n              disabled\n              icon={<UsersIcon fontSize=\"small\" />}\n            >\n              Members\n            </KanbanCardAction>\n            <KanbanCardAction\n              disabled\n              icon={<LabelIcon fontSize=\"small\" />}\n            >\n              Labels\n            </KanbanCardAction>\n            <KanbanCardAction\n              disabled\n              icon={<DocumentTextIcon fontSize=\"small\" />}\n            >\n              Attachments\n            </KanbanCardAction>\n            <Box sx={{ mt: 3 }}>\n              <Typography\n                color=\"textPrimary\"\n                component=\"h4\"\n                sx={{\n                  fontWeight: 600,\n                  mb: 2\n                }}\n                variant=\"overline\"\n              >\n                Actions\n              </Typography>\n              <KanbanCardAction\n                disabled\n                icon={<ArrowRightIcon fontSize=\"small\" />}\n              >\n                Move\n              </KanbanCardAction>\n              <KanbanCardAction\n                disabled\n                icon={<DuplicateIcon fontSize=\"small\" />}\n              >\n                Copy\n              </KanbanCardAction>\n              <KanbanCardAction\n                disabled\n                icon={<TemplateIcon fontSize=\"small\" />}\n              >\n                Make Template\n              </KanbanCardAction>\n              <Divider sx={{ my: 2 }} />\n              {card.isSubscribed\n                ? (\n                  <KanbanCardAction\n                    icon={<EyeOffIcon fontSize=\"small\" />}\n                    onClick={handleUnsubscribe}\n                  >\n                    Unwatch\n                  </KanbanCardAction>\n                )\n                : (\n                  <KanbanCardAction\n                    icon={<EyeIcon fontSize=\"small\" />}\n                    onClick={handleSubscribe}\n                  >\n                    Watch\n                  </KanbanCardAction>\n                )}\n              <KanbanCardAction\n                icon={<ArchiveIcon fontSize=\"small\" />}\n                onClick={handleDelete}\n              >\n                Archive\n              </KanbanCardAction>\n            </Box>\n          </Grid>\n        </Grid>\n      </Box>\n    </Dialog>\n  );\n};\n\nKanbanCardModal.propTypes = {\n  card: PropTypes.object.isRequired,\n  column: PropTypes.object.isRequired,\n  onClose: PropTypes.func,\n  open: PropTypes.bool\n};\n\nKanbanCardModal.defaultProps = {\n  open: false\n};\n\nexport default KanbanCardModal;\n"]},"metadata":{},"sourceType":"module"}