{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/VarsityMediaLive07042021/src/pages/blog/BlogPostList.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState, useRef } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { Box, Button, Container, Divider, Grid, InputAdornment, Menu, MenuItem, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { blogApi } from '../../__fakeApi__/blogApi';\nimport { BlogPostCard, BlogNewsletter } from '../../components/blog';\nimport PlusIcon from '../../icons/Plus';\nimport SortAscendingIcon from '../../icons/SortAscending';\nimport SortDescendingIcon from '../../icons/SortDescending';\nimport SearchIcon from '../../icons/Search';\nimport useMounted from '../../hooks/useMounted';\nimport gtm from '../../lib/gtm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sortOptions = [{\n  label: 'Newest',\n  value: 'desc',\n  icon: SortDescendingIcon\n}, {\n  label: 'Older',\n  value: 'asc',\n  icon: SortAscendingIcon\n}];\n\nconst BlogPostList = () => {\n  _s();\n\n  const mounted = useMounted();\n  const sortRef = useRef(null);\n  const [openSort, setOpenSort] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [sortOption, setSortOption] = useState(sortOptions[0]);\n  useEffect(() => {\n    gtm.push({\n      event: 'page_view'\n    });\n  }, []);\n  const getPosts = useCallback(async () => {\n    try {\n      const data = await blogApi.getPosts();\n\n      if (mounted.current) {\n        setPosts(data);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [mounted]);\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  const handleSortOpen = () => {\n    setOpenSort(true);\n  };\n\n  const handleSortClose = () => {\n    setOpenSort(false);\n  };\n\n  const handleSortChange = option => {\n    setSortOption(option);\n    setOpenSort(false);\n  };\n\n  const {\n    icon: SortOptionIcon\n  } = sortOption;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Blog: Post List | Material Kit Pro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        backgroundColor: 'background.paper',\n        minHeight: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"lg\",\n          children: /*#__PURE__*/_jsxDEV(Toolbar, {\n            disableGutters: true,\n            sx: {\n              py: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              alignItems: \"center\",\n              container: true,\n              justifyContent: \"space-between\",\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textPrimary\",\n                  variant: \"body2\",\n                  children: \"Hello, Jane Rotanson\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  component: RouterLink,\n                  size: \"large\",\n                  startIcon: /*#__PURE__*/_jsxDEV(PlusIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 32\n                  }, this),\n                  to: \"/blog/new\",\n                  variant: \"outlined\",\n                  children: \"Add new post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          py: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"lg\",\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              alignItems: 'center',\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 500\n              },\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                InputProps: {\n                  startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                    position: \"start\",\n                    children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 23\n                  }, this)\n                },\n                size: \"small\",\n                placeholder: \"Search posts\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              onClick: handleSortOpen,\n              ref: sortRef,\n              size: \"small\",\n              startIcon: /*#__PURE__*/_jsxDEV(SortOptionIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 28\n              }, this),\n              variant: \"text\",\n              children: sortOption.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              anchorEl: sortRef.current,\n              keepMounted: true,\n              onClose: handleSortClose,\n              open: openSort,\n              PaperProps: {\n                sx: {\n                  width: 200\n                }\n              },\n              children: sortOptions.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: () => handleSortChange(option),\n                children: option.label\n              }, option.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 6\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 6,\n              children: posts.map(post => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                lg: 4,\n                md: 6,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(BlogPostCard, {\n                  authorAvatar: post.author.avatar,\n                  authorName: post.author.name,\n                  category: post.category,\n                  cover: post.cover,\n                  publishedAt: post.publishedAt,\n                  readTime: post.readTime,\n                  shortDescription: post.shortDescription,\n                  title: post.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)\n              }, post.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BlogNewsletter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BlogPostList, \"Ng0w3da9b3JGbN/tVkanEe8o4yo=\", false, function () {\n  return [useMounted];\n});\n\n_c = BlogPostList;\nexport default BlogPostList;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogPostList\");","map":{"version":3,"sources":["/home/ec2-user/environment/VarsityMediaLive07042021/src/pages/blog/BlogPostList.js"],"names":["useCallback","useEffect","useState","useRef","Link","RouterLink","Helmet","Box","Button","Container","Divider","Grid","InputAdornment","Menu","MenuItem","TextField","Toolbar","Typography","blogApi","BlogPostCard","BlogNewsletter","PlusIcon","SortAscendingIcon","SortDescendingIcon","SearchIcon","useMounted","gtm","sortOptions","label","value","icon","BlogPostList","mounted","sortRef","openSort","setOpenSort","posts","setPosts","sortOption","setSortOption","push","event","getPosts","data","current","err","console","error","handleSortOpen","handleSortClose","handleSortChange","option","SortOptionIcon","backgroundColor","minHeight","py","alignItems","display","justifyContent","width","startAdornment","sx","map","mt","post","author","avatar","name","category","cover","publishedAt","readTime","shortDescription","title","id"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useState, useRef } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport {\n  Box,\n  Button,\n  Container,\n  Divider,\n  Grid,\n  InputAdornment,\n  Menu,\n  MenuItem,\n  TextField,\n  Toolbar,\n  Typography\n} from '@material-ui/core';\nimport { blogApi } from '../../__fakeApi__/blogApi';\nimport { BlogPostCard, BlogNewsletter } from '../../components/blog';\nimport PlusIcon from '../../icons/Plus';\nimport SortAscendingIcon from '../../icons/SortAscending';\nimport SortDescendingIcon from '../../icons/SortDescending';\nimport SearchIcon from '../../icons/Search';\nimport useMounted from '../../hooks/useMounted';\nimport gtm from '../../lib/gtm';\n\nconst sortOptions = [\n  {\n    label: 'Newest',\n    value: 'desc',\n    icon: SortDescendingIcon\n  },\n  {\n    label: 'Older',\n    value: 'asc',\n    icon: SortAscendingIcon\n  }\n];\n\nconst BlogPostList = () => {\n  const mounted = useMounted();\n  const sortRef = useRef(null);\n  const [openSort, setOpenSort] = useState(false);\n  const [posts, setPosts] = useState([]);\n  const [sortOption, setSortOption] = useState(sortOptions[0]);\n\n  useEffect(() => {\n    gtm.push({ event: 'page_view' });\n  }, []);\n\n  const getPosts = useCallback(async () => {\n    try {\n      const data = await blogApi.getPosts();\n\n      if (mounted.current) {\n        setPosts(data);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [mounted]);\n\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  const handleSortOpen = () => {\n    setOpenSort(true);\n  };\n\n  const handleSortClose = () => {\n    setOpenSort(false);\n  };\n\n  const handleSortChange = (option) => {\n    setSortOption(option);\n    setOpenSort(false);\n  };\n\n  const { icon: SortOptionIcon } = sortOption;\n\n  return (\n    <>\n      <Helmet>\n        <title>Blog: Post List | Material Kit Pro</title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.paper',\n          minHeight: '100%'\n        }}\n      >\n        <div>\n          <Container maxWidth=\"lg\">\n            <Toolbar\n              disableGutters\n              sx={{ py: 2 }}\n            >\n              <Grid\n                alignItems=\"center\"\n                container\n                justifyContent=\"space-between\"\n                spacing={3}\n              >\n                <Grid item>\n                  <Typography\n                    color=\"textPrimary\"\n                    variant=\"body2\"\n                  >\n                    Hello, Jane Rotanson\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <Button\n                    color=\"primary\"\n                    component={RouterLink}\n                    size=\"large\"\n                    startIcon={<PlusIcon fontSize=\"small\" />}\n                    to=\"/blog/new\"\n                    variant=\"outlined\"\n                  >\n                    Add new post\n                  </Button>\n                </Grid>\n              </Grid>\n            </Toolbar>\n          </Container>\n        </div>\n        <Divider />\n        <Box sx={{ py: 6 }}>\n          <Container maxWidth=\"lg\">\n            <Box\n              sx={{\n                alignItems: 'center',\n                display: 'flex',\n                justifyContent: 'space-between'\n              }}\n            >\n              <Box sx={{ width: 500 }}>\n                <TextField\n                  fullWidth\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon fontSize=\"small\" />\n                      </InputAdornment>\n                    )\n                  }}\n                  size=\"small\"\n                  placeholder=\"Search posts\"\n                  variant=\"outlined\"\n                />\n              </Box>\n              <Button\n                color=\"primary\"\n                onClick={handleSortOpen}\n                ref={sortRef}\n                size=\"small\"\n                startIcon={<SortOptionIcon fontSize=\"small\" />}\n                variant=\"text\"\n              >\n                {sortOption.label}\n              </Button>\n              <Menu\n                anchorEl={sortRef.current}\n                keepMounted\n                onClose={handleSortClose}\n                open={openSort}\n                PaperProps={{\n                  sx: { width: 200 }\n                }}\n              >\n                {sortOptions.map((option) => (\n                  <MenuItem\n                    key={option.value}\n                    onClick={() => handleSortChange(option)}\n                  >\n                    {option.label}\n                  </MenuItem>\n                ))}\n              </Menu>\n            </Box>\n            <Box sx={{ mt: 6 }}>\n              <Grid\n                container\n                spacing={6}\n              >\n                {posts.map((post) => (\n                  <Grid\n                    item\n                    key={post.id}\n                    lg={4}\n                    md={6}\n                    xs={12}\n                  >\n                    <BlogPostCard\n                      authorAvatar={post.author.avatar}\n                      authorName={post.author.name}\n                      category={post.category}\n                      cover={post.cover}\n                      publishedAt={post.publishedAt}\n                      readTime={post.readTime}\n                      shortDescription={post.shortDescription}\n                      title={post.title}\n                    />\n                  </Grid>\n                ))}\n              </Grid>\n            </Box>\n          </Container>\n        </Box>\n        <BlogNewsletter />\n      </Box>\n    </>\n  );\n};\n\nexport default BlogPostList;\n"]},"metadata":{},"sourceType":"module"}