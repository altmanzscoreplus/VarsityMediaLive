{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/chat/ChatSidebar.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport { chatApi } from '../../../__fakeApi__/chatApi';\nimport CogIcon from '../../../icons/Cog';\nimport PencilAltIcon from '../../../icons/PencilAlt';\nimport Scrollbar from '../../Scrollbar';\nimport ChatContactSearch from './ChatContactSearch';\nimport ChatThreadList from './ChatThreadList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ChatSidebar = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchClickAway = () => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n  };\n\n  const handleSearchChange = async event => {\n    try {\n      const {\n        value\n      } = event.target;\n      setSearchQuery(value);\n\n      if (value) {\n        const data = await chatApi.searchContacts(value);\n        setSearchResults(data);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleSearchFocus = () => {\n    setIsSearchFocused(true);\n  };\n\n  const handleSearchSelect = result => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n    navigate(`/dashboard/chat/${result.username}`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      backgroundColor: 'background.paper',\n      borderRight: 1,\n      borderColor: 'divider',\n      display: 'flex',\n      flexDirection: 'column',\n      maxWidth: '100%',\n      width: 300\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        alignItems: 'center',\n        display: 'flex',\n        flexShrink: 0,\n        height: 64,\n        px: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textPrimary\",\n        variant: \"h5\",\n        children: \"Chats\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        children: /*#__PURE__*/_jsxDEV(CogIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        component: RouterLink,\n        to: \"/dashboard/chat/new\",\n        children: /*#__PURE__*/_jsxDEV(PencilAltIcon, {\n          fontSize: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: {\n          sm: 'block',\n          xs: 'none'\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(ChatContactSearch, {\n        isFocused: isSearchFocused,\n        onChange: handleSearchChange,\n        onClickAway: handleSearchClickAway,\n        onFocus: handleSearchFocus,\n        onSelect: handleSearchSelect,\n        query: searchQuery,\n        results: searchResults\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Scrollbar, {\n      options: {\n        suppressScrollX: true\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: isSearchFocused ? 'none' : undefined\n        },\n        children: /*#__PURE__*/_jsxDEV(ChatThreadList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatSidebar, \"nlZ9hXX0cNZmHOcdqFMY0xvSD0E=\", false, function () {\n  return [useNavigate];\n});\n\n_c = ChatSidebar;\nexport default ChatSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatSidebar\");","map":{"version":3,"sources":["/home/ec2-user/environment/VarsityMediaLive07042021/src/components/dashboard/chat/ChatSidebar.js"],"names":["useState","Link","RouterLink","useNavigate","Box","IconButton","Typography","chatApi","CogIcon","PencilAltIcon","Scrollbar","ChatContactSearch","ChatThreadList","ChatSidebar","navigate","isSearchFocused","setIsSearchFocused","searchQuery","setSearchQuery","searchResults","setSearchResults","handleSearchClickAway","handleSearchChange","event","value","target","data","searchContacts","err","console","error","handleSearchFocus","handleSearchSelect","result","username","backgroundColor","borderRight","borderColor","display","flexDirection","maxWidth","width","alignItems","flexShrink","height","px","flexGrow","sm","xs","suppressScrollX","undefined"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Box, IconButton, Typography } from '@material-ui/core';\nimport { chatApi } from '../../../__fakeApi__/chatApi';\nimport CogIcon from '../../../icons/Cog';\nimport PencilAltIcon from '../../../icons/PencilAlt';\nimport Scrollbar from '../../Scrollbar';\nimport ChatContactSearch from './ChatContactSearch';\nimport ChatThreadList from './ChatThreadList';\n\nconst ChatSidebar = () => {\n  const navigate = useNavigate();\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  const handleSearchClickAway = () => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n  };\n\n  const handleSearchChange = async (event) => {\n    try {\n      const { value } = event.target;\n\n      setSearchQuery(value);\n\n      if (value) {\n        const data = await chatApi.searchContacts(value);\n\n        setSearchResults(data);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleSearchFocus = () => {\n    setIsSearchFocused(true);\n  };\n\n  const handleSearchSelect = (result) => {\n    setIsSearchFocused(false);\n    setSearchQuery('');\n    navigate(`/dashboard/chat/${result.username}`);\n  };\n\n  return (\n    <Box\n      sx={{\n        backgroundColor: 'background.paper',\n        borderRight: 1,\n        borderColor: 'divider',\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '100%',\n        width: 300\n      }}\n    >\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          flexShrink: 0,\n          height: 64,\n          px: 2\n        }}\n      >\n        <Typography\n          color=\"textPrimary\"\n          variant=\"h5\"\n        >\n          Chats\n        </Typography>\n        <Box sx={{ flexGrow: 1 }} />\n        <IconButton>\n          <CogIcon fontSize=\"small\" />\n        </IconButton>\n        <IconButton\n          component={RouterLink}\n          to=\"/dashboard/chat/new\"\n        >\n          <PencilAltIcon fontSize=\"small\" />\n        </IconButton>\n      </Box>\n      <Box\n        sx={{\n          display: {\n            sm: 'block',\n            xs: 'none'\n          }\n        }}\n      >\n        <ChatContactSearch\n          isFocused={isSearchFocused}\n          onChange={handleSearchChange}\n          onClickAway={handleSearchClickAway}\n          onFocus={handleSearchFocus}\n          onSelect={handleSearchSelect}\n          query={searchQuery}\n          results={searchResults}\n        />\n      </Box>\n      <Scrollbar options={{ suppressScrollX: true }}>\n        <Box sx={{ display: isSearchFocused ? 'none' : undefined }}>\n          <ChatThreadList />\n        </Box>\n      </Scrollbar>\n    </Box>\n  );\n};\n\nexport default ChatSidebar;\n"]},"metadata":{},"sourceType":"module"}